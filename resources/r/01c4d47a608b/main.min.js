!function(){"use strict";class e{get action(){throw"not implemented"}process(e,t,n,r){throw"not implemented"}}class t{get xhrClass(){return this._xhrClass||t._XHR||XMLHttpRequest}static set xhrClass(e){t._XHR=e}static get GET(){return"get"}static get POST(){return"post"}static get PUT(){return"put"}static get DELETE(){return"delete"}constructor(e,n){this.url=e,this.method=t.GET,this.data={},this.headers={},this.responseType=null,this.downloadEventCallback=null,this.uploadEventCallback=null,this.withCredentials=null,this._xhr=null,this._xhrClass=n}setUrl(e){return this.url=e,this}setMethod(e){return this.method=e,this}setData(e){return this.data=e,this}setHeaders(e){return this.headers=e,this}setResponseType(e){return this.responseType=e,this}setEventCallback(e,t){return this.downloadEventCallback=e,this.uploadEventCallback=t,this}setWithCredentials(e){return this.withCredentials=e,this}send(){const e=this;return new Promise(((t,n)=>{const r=this._xhr=new this.xhrClass;let o;if(this.downloadEventCallback&&(r.addEventListener("loadstart",this.downloadEventCallback),r.addEventListener("load",this.downloadEventCallback),r.addEventListener("loadend",this.downloadEventCallback),r.addEventListener("progress",this.downloadEventCallback),r.addEventListener("error",this.downloadEventCallback),r.addEventListener("abort",this.downloadEventCallback)),this.uploadEventCallback&&(r.addEventListener("loadstart",this.uploadEventCallback),r.addEventListener("load",this.uploadEventCallback),r.addEventListener("loadend",this.uploadEventCallback),r.addEventListener("progress",this.uploadEventCallback),r.addEventListener("error",this.uploadEventCallback),r.addEventListener("abort",this.uploadEventCallback)),r.addEventListener("load",(()=>{e._xhr=null,t(r)})),r.addEventListener("error",(()=>{e._xhr=null,n(r)})),r.addEventListener("abort",(()=>{e._xhr=null})),this.responseType&&(r.responseType=this.responseType),"object"!=typeof this.data||this.data instanceof FormData)o=this.data;else{o=new FormData;for(let e in this.data)this.data.hasOwnProperty(e)&&o.append(e,this.data[e])}if(r.open(this.method,this.url,!0),this.withCredentials&&(r.withCredentials=this.withCredentials),this.headers)for(let e in this.headers)this.headers.hasOwnProperty(e)&&r.setRequestHeader(e,this.headers[e]);r.send(o)}))}abort(){this._xhr&&this._xhr.abort&&this._xhr.abort()}}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var r,o,a=(function(e,t){e.exports=function(){var e=("object"==typeof window?window:this)||{};if(!e.history||"emulate"in e.history)return e.history;var t,n=e.document,r=n.documentElement,o=e.Object,a=e.JSON,s=e.location,i=e.history,l=i,c=i.pushState,u=i.replaceState,d=N(),h="state"in i,p=o.defineProperty,f=$({},"t")?{}:n.createElement("a"),g="",m=e.addEventListener?"addEventListener":(g="on")&&"attachEvent",v=e.removeEventListener?"removeEventListener":"detachEvent",E=e.dispatchEvent?"dispatchEvent":"fireEvent",y=F(e[m]),b=F(e[v]),_=F(e[E]),w={basepath:"/",redirect:0,type:"/",init:0},L="__historyAPI__",x=n.createElement("a"),k=s.href,C="",T=1,A=!1,S=0,P={},R={},O=n.title,q={onhashchange:null,onpopstate:null},M=function(t,n){var r=e.history!==i;r&&(e.history=i),t.apply(i,n),r&&(e.history=l)},I={setup:function(e,t,n){w.basepath=(""+(null==e?w.basepath:e)).replace(/(?:^|\/)[^\/]*$/,"/"),w.type=null==t?w.type:t,w.redirect=null==n?w.redirect:!!n},redirect:function(t,n){if(l.setup(n,t),n=w.basepath,e.top==e.self){var r=B(null,!1,!0)._relative,o=s.pathname+s.search;d?(o=o.replace(/([^\/])$/,"$1/"),r!=n&&new RegExp("^"+n+"$","i").test(o)&&s.replace(r)):o!=n&&(o=o.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+n,"i").test(o)&&s.replace(n+"#"+o.replace(new RegExp("^"+n,"i"),w.type)+s.hash))}},pushState:function(e,t,r){var o=n.title;null!=O&&(n.title=O),c&&M(c,arguments),J(e,r),n.title=o,O=t},replaceState:function(e,t,r){var o=n.title;null!=O&&(n.title=O),delete P[s.href],u&&M(u,arguments),J(e,r,!0),n.title=o,O=t},location:{set:function(t){0===S&&(S=1),e.location=t},get:function(){return 0===S&&(S=1),f}},state:{get:function(){return"object"==typeof P[s.href]?a.parse(a.stringify(P[s.href])):void 0!==P[s.href]?P[s.href]:null}}},j={assign:function(e){d||0!==(""+e).indexOf("#")?s.assign(e):J(null,e)},reload:function(e){s.reload(e)},replace:function(e){d||0!==(""+e).indexOf("#")?s.replace(e):J(null,e,!0)},toString:function(){return this.href},origin:{get:function(){return void 0!==t?t:s.origin?s.origin:s.protocol+"//"+s.hostname+(s.port?":"+s.port:"")},set:function(e){t=e}},href:d?null:{get:function(){return B()._href}},protocol:null,host:null,hostname:null,port:null,pathname:d?null:{get:function(){return B()._pathname}},search:d?null:{get:function(){return B()._search}},hash:d?null:{set:function(e){J(null,(""+e).replace(/^(#|)/,"#"),!1,k)},get:function(){return B()._hash}}};function D(){}function B(e,t,r){var o=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/;if(null==e||""===e||t)e=t?e:s.href,d&&!r||(e=e.replace(/^[^#]*/,"")||"#",e=s.protocol.replace(/:.*$|$/,":")+"//"+s.host+w.basepath+e.replace(new RegExp("^#[/]?(?:"+w.type+")?"),""));else{var a=B(),i=n.getElementsByTagName("base")[0];!r&&i&&i.getAttribute("href")&&(i.href=i.href,a=B(i.href,null,!0));var l=a._pathname,c=a._protocol;e=/^(?:\w+\:)?\/\//.test(e=""+e)?0===e.indexOf("/")?c+e:e:c+"//"+a._host+(0===e.indexOf("/")?e:0===e.indexOf("?")?l+e:0===e.indexOf("#")?l+a._search+e:l.replace(/[^\/]+$/g,"")+e)}x.href=e;var u=o.exec(x.href),h=u[2]+(u[3]?":"+u[3]:""),p=u[4]||"/",f=u[5]||"",g="#"===u[6]?"":u[6]||"",m=p+f+g,v=p.replace(new RegExp("^"+w.basepath,"i"),w.type)+f;return{_href:u[1]+"//"+h+m,_protocol:u[1],_host:h,_hostname:u[2],_port:u[3]||"",_pathname:p,_search:f,_hash:g,_relative:m,_nohash:v,_special:v+g}}function N(){var t=e.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&!!c}function F(t){return t&&e&&e.EventTarget&&"function"==typeof e.EventTarget.prototype.addEventListener&&"function"==typeof t.bind?t.bind(e):t}function U(){var t;try{(t=e.sessionStorage).setItem(L+"t","1"),t.removeItem(L+"t")}catch(e){t={getItem:function(e){var t=n.cookie.split(e+"=");return t.length>1&&t.pop().split(";").shift()||"null"},setItem:function(e,t){var r={};(r[s.href]=l.state)&&(n.cookie=e+"="+a.stringify(r))}}}try{P=a.parse(t.getItem(L))||{}}catch(e){P={}}y(g+"unload",(function(){t.setItem(L,a.stringify(P))}),!1)}function $(t,n,r,a){var s=0;r||(r={set:D},s=1);var i=!r.set,l=!r.get,c={configurable:!0,set:function(){i=1},get:function(){l=1}};try{p(t,n,c),t[n]=t[n],p(t,n,r)}catch(e){}if(!(i&&l||(t.__defineGetter__&&(t.__defineGetter__(n,c.get),t.__defineSetter__(n,c.set),t[n]=t[n],r.get&&t.__defineGetter__(n,r.get),r.set&&t.__defineSetter__(n,r.set)),i&&l))){if(s)return!1;if(t===e){try{var u=t[n];t[n]=null}catch(e){}if("execScript"in e)e.execScript("Public "+n,"VBScript"),e.execScript("var "+n+";","JavaScript");else try{p(t,n,{value:D})}catch(e){"onpopstate"===n&&(y("popstate",r=function(){b("popstate",r,!1);var e=t.onpopstate;t.onpopstate=null,setTimeout((function(){t.onpopstate=e}),1)},!1),T=0)}t[n]=u}else try{try{var d=o.create(t);for(var h in p(o.getPrototypeOf(d)===t?d:t,n,r),t)"function"==typeof t[h]&&(d[h]=t[h].bind(t));try{a.call(d,d,t)}catch(e){}t=d}catch(e){p(t.constructor.prototype,n,r)}}catch(e){return!1}}return t}function H(e,t,n){return e=e===j?s:e,(n=n||{}).set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}function W(e,t,n){e in R?R[e].push(t):arguments.length>3?y(e,t,n,arguments[3]):y(e,t,n)}function z(e,t,n){var r=R[e];if(r){for(var o=r.length;o--;)if(r[o]===t){r.splice(o,1);break}}else b(e,t,n)}function G(t,n){var r=(""+("string"==typeof t?t:t.type)).replace(/^on/,""),o=R[r];if(o){if(null==(n="string"==typeof t?n:t).target)for(var a=["target","currentTarget","srcElement","type"];t=a.pop();)n=$(n,t,{get:"type"===t?function(){return r}:function(){return e}});T&&(("popstate"===r?e.onpopstate:e.onhashchange)||D).call(e,n);for(var s=0,i=o.length;s<i;s++)o[s].call(e,n);return!0}return _(t,n)}function V(){var e=n.createEvent?n.createEvent("Event"):n.createEventObject();e.initEvent?e.initEvent("popstate",!1,!1):e.type="popstate",e.state=l.state,G(e)}function X(){A&&(A=!1,V())}function J(e,t,n,r){if(d)k=s.href;else{0===S&&(S=2);var o=B(t,2===S&&-1!==(""+t).indexOf("#"));o._relative!==B()._relative&&(k=r,n?s.replace("#"+o._special):s.hash=o._special)}!h&&e&&(P[s.href]=e),A=!1}function Y(t){var n=k;if(k=s.href,n){C!==s.href&&V(),t=t||e.event;var r=B(n,!0),o=B();t.oldURL||(t.oldURL=r._href,t.newURL=o._href),r._hash!==o._hash&&G(t)}}function Z(e){setTimeout((function(){y("popstate",(function(e){C=s.href,h||(e=$(e,"state",{get:function(){return l.state}})),G(e)}),!1)}),0),!d&&!0!==e&&"location"in l&&(ee(f.hash),X())}function K(e){for(;e;){if("A"===e.nodeName)return e;e=e.parentNode}}function Q(t){var n=t||e.event,r=K(n.target||n.srcElement),o="defaultPrevented"in n?n.defaultPrevented:!1===n.returnValue;if(r&&"A"===r.nodeName&&!o){var a=B(),s=B(r.getAttribute("href",2));a._href.split("#").shift()===s._href.split("#").shift()&&s._hash&&(a._hash!==s._hash&&(f.hash=s._hash),ee(s._hash),n.preventDefault?n.preventDefault():n.returnValue=!1)}}function ee(t){var o=n.getElementById(t=(t||"").replace(/^#/,""));if(o&&o.id===t&&"A"===o.nodeName){var a=o.getBoundingClientRect();e.scrollTo(r.scrollLeft||0,a.top+(r.scrollTop||0)-(r.clientTop||0))}}function te(){var t=n.getElementsByTagName("script"),r=(t[t.length-1]||{}).src||"";(-1!==r.indexOf("?")?r.split("?").pop():"").replace(/(\w+)(?:=([^&]*))?/g,(function(e,t,n){w[t]=(n||"").replace(/^(0|false)$/,"")})),y(g+"hashchange",Y,!1);var o=[j,f,q,e,I,l];h&&delete I.state;for(var s=0;s<o.length;s+=2)for(var i in o[s])if(o[s].hasOwnProperty(i))if("object"!=typeof o[s][i])o[s+1][i]=o[s][i];else{var c=H(o[s],i,o[s][i]);if(!$(o[s+1],i,c,(function(t,n){n===l&&(e.history=l=o[s+1]=t)})))return b(g+"hashchange",Y,!1),!1;o[s+1]===e&&(R[i]=R[i.substr(2)]=[])}return l.setup(),w.redirect&&l.redirect(),w.init&&(S=1),!h&&a&&U(),d||n[m](g+"click",Q,!1),"complete"===n.readyState?Z(!0):(d||B()._relative===w.basepath||(A=!0),y(g+"load",Z,!1)),!0}return te()?(l.emulate=!d,e[m]=W,e[v]=z,e[E]=G,l):void 0}()}(o={path:r,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&o.path)}},o.exports),o.exports);function s(e,t,n,r){if(t&&"#"===t)return;const o=[];let s=e;do{s&&s.matches("[data-self-uri]")&&o.push({targetId:s.getAttribute("id"),url:s.getAttribute("data-self-uri")})}while(s=s.parentElement);const i={paths:o.reverse(),pushUrl:t};r?a.replaceState(i,null,t):a.pushState(i,null,t)}const i=a.location||window.location;var l={};try{l.EventTarget=(new EventTarget).constructor}catch(e){!function(e,t){var n=e.create,r=e.defineProperty,o=a.prototype;function a(){t.set(this,n(null))}function s(e,t,n){r(e,t,{configurable:!0,writable:!0,value:n})}function i(e){var t=e.options;return t&&t.once&&e.target.removeEventListener(this.type,e.listener),"function"==typeof e.listener?e.listener.call(e.target,this):e.listener.handleEvent(this),this._stopImmediatePropagationFlag}s(o,"addEventListener",(function(e,n,r){for(var o=t.get(this),a=o[e]||(o[e]=[]),s=0,i=a.length;s<i;s++)if(a[s].listener===n)return;a.push({target:this,listener:n,options:r})})),s(o,"dispatchEvent",(function(e){var n=t.get(this)[e.type];return n&&(s(e,"target",this),s(e,"currentTarget",this),n.slice(0).some(i,e),delete e.currentTarget,delete e.target),!0})),s(o,"removeEventListener",(function(e,n){for(var r=t.get(this),o=r[e]||(r[e]=[]),a=0,s=o.length;a<s;a++)if(o[a].listener===n)return void o.splice(a,1)})),l.EventTarget=a}(Object,new WeakMap)}var c=l.EventTarget;class u{constructor(){this._processors=new Map}iterate(e,t,n,r){return(e=e||[]).reduce((async(e,o)=>(n._processedActions=n._processedActions||[],n._processedActions.push(o),r.synchronous&&await e,this._getPromiseForAction(o,t,n,r))),Promise.resolve())}addProcessor(e){this._processors.set(e.action,e)}clone(){const e=new u;return this._processors.forEach((t=>{e.addProcessor(Object.assign(Object.create(Object.getPrototypeOf(t)),t))})),e}_getPromiseForAction(e,t,n,r){const o=this._processors.get(e.action);return o?o.process(e,t,n,r):new Promise((e=>e()))}}const d=a.location||window.location,h="prepare",p="progress",f="requested",g="retrieved",m="rendered",v="complete",E="cancelled",y="error",b="",_="requested",w="loading",L="loaded",x="refreshing",k="error",C={selector:"a[data-uri],button[data-uri],[href][data-target]",allowPersistentTargets:!0,handleForms:!0,listenElement:document,minRefreshRate:500,iterator:new u};class T extends c{constructor(e){super(),e.iterator=e.iterator||S.iterator,Object.assign(this,e)}addProcessor(e){return Object.is(this.iterator,S.iterator)&&(this.iterator=S.iterator.clone()),this.iterator.addProcessor(e),this}get getResolvedTarget(){return!1===this.targetElement?null:this.targetElement instanceof Element?this.targetElement:N(this.targetElement||S.defaultTarget)}getRequestMethod(){return this.method||(this.data?t.POST:t.GET)}get getPushUrl(){return this.pushUrl||this.sourceElement&&this.sourceElement.getAttribute("href")||null}triggerEvent(e,t={},n=!1){const r=new CustomEvent(e,{detail:Object.assign({},t,{request:this}),bubbles:!0,cancelable:n});return this.dispatchEvent(r)&&S.listenElement.dispatchEvent(r)}static fromElement(e){let n=String(e.getAttribute("data-uri"));const r=new T({url:n,sourceElement:e,targetElement:e.getAttribute("data-target")});if(e instanceof HTMLFormElement){const o=new FormData(e);r.data=o,r.method=String(e.method),e.method.toLowerCase()===t.GET&&(r.url=n+(n.indexOf("?")>-1?"&":"?")+[...o.entries()].map((e=>`${encodeURIComponent(e[0])}=${encodeURIComponent(String(e[1]))}`)).join("&"),r.pushUrl=r.url)}return r}}class A{constructor(e){Object.assign(this,e)}}let S=Object.assign({},C),P=!1;function R(){return"complete"===document.readyState&&(s(N(S.defaultTarget),window.location.toString(),window.location.toString(),!0),S.listenElement.addEventListener("click",(e=>{if(e.target instanceof Element){let t=e.target.closest(S.selector);if(null===t&&e.path&&e.path.length>0&&(t=e.path[0].closest(S.selector)),t){const n=t.getAttribute("href");if(/^data:/.test(n))return;e.preventDefault(),q(new T({url:t.getAttribute("data-uri")||n,pushUrl:n,sourceElement:t,targetElement:t.getAttribute("data-target")}))}}})),S.listenElement.addEventListener("submit",(e=>{S.handleForms&&e.target instanceof HTMLFormElement&&e.target.hasAttribute("data-uri")&&(q(T.fromElement(e.target)).catch((e=>console.log(e))),e.preventDefault())})),M(),!0)}const O=new Map;function q(e){return e instanceof T||(e=new T(e)),new Promise((n=>{const r=e.getResolvedTarget;if(B(r,_),e.triggerEvent(h,{},!0)){if(!e.url||/^#/.test(e.url)||/^data:/.test(e.url))return B(r,k),void e.triggerEvent(y,{error:"invalid url"});j(r),O.has(r)&&(O.get(r).abort(),O.delete(r));const o=new t(e.url);O.set(r,o),o.setWithCredentials(e.withCredentials).setMethod(e.getRequestMethod()).setHeaders({"x-requested-with":"XMLHttpRequest","x-pagelet-request":"1","x-pagelet-target":r.getAttribute("id")||"","x-pagelet-fragment":e.url.replace(/^.*?(#|$)/,"")}).setEventCallback((t=>{switch(t.type){case"loadstart":B(r,r.getAttribute("data-self-uri")===e.url?x:w);break;case"progress":e.triggerEvent(p);break;case"abort":B(r,b),e.triggerEvent(E);break;case"error":B(r,k),e.triggerEvent(y)}})).setData(e.data),o.send().then((t=>{B(r,L);const o=function(e){const t=e.getResponseHeader("content-type");let[n]=t.split(";");const r=e.responseText.replace(/^while\(1\);|for\(;;\);|\)]}'/,""),o={status:e.status,statusText:e.statusText,headers:F(e.getAllResponseHeaders())};switch(n){case"":case"text/plain":case"text/html":const t={};return 200===e.status&&(t.actions=[{action:"content",content:r}]),new A(Object.assign(t,o));case"application/json":case"application/javascript":return new A(Object.assign(JSON.parse(r),o));default:throw"not a valid response"}}(t),a={response:o};e.triggerEvent(g,a,!0)&&function(e,t){const n=e.getResolvedTarget;return e.iterator.iterate(t.actions,e,t,S).then((()=>{e.triggerEvent(m,{response:t},!0)&&(M(n),function(e){if(j(e),document.contains(e)){if(e.hasAttribute("data-refresh")){const t=Math.max(S.minRefreshRate,e.getAttribute("data-refresh"));I.set(e,setTimeout((()=>D(e)),t))}}else I.delete(e)}(n));const r=e.getPushUrl;if(r&&r!==d.href.substr(-r.length)){t._processedActions&&t._processedActions.reduce(((e,t)=>e||"location"===t.action),!1)||s(e.getResolvedTarget,r,e.url,!1)}})).catch((()=>{B(n,k),e.triggerEvent(y)}))}(e,o).then((()=>e.triggerEvent(v,a))),n(a)})).then((()=>{B(r,b)})).catch((t=>{t&&t.statusText&&console.warn(t.statusText),B(r,k),e.triggerEvent(y)})),e.triggerEvent(f)}}))}function M(e){(e=e||S.listenElement).querySelectorAll("[data-self-uri]").forEach((e=>{e.pageletInitialized||(e.pageletInitialized=!0,D(e))}))}const I=new WeakMap;function j(e){I.has(e)&&clearTimeout(I.get(e))}function D(e){if(e){const t=e.getAttribute("data-self-uri");t&&q(new T({url:t,sourceElement:e,targetElement:e}))}}function B(e,t){t?e.setAttribute("data-pagelet-state",t):e.removeAttribute("data-pagelet-state")}function N(e){return e&&S.listenElement.getElementById(e)||document.body}function F(e){const t={};return e.trim().split(/[\r\n]+/).forEach((e=>{const n=e.split(": "),r=n.shift();t[r]=n.join(": ")})),t}function U(e){S.iterator.addProcessor(e)}window.addEventListener("popstate",(e=>{const t=e.state;t&&(t.paths.length>0?t.paths.slice(0).reduce((async(e,{targetId:n,url:r},o,a)=>{await e;const s=S.listenElement.getElementById(n);return s?o===a.length-1||s.getAttribute("data-self-uri")!==r?q(new T({url:r,targetElement:s})):Promise.resolve():(d.replace(t.pushUrl),a.splice(0),Promise.resolve())}),Promise.resolve()):d.replace(t.pushUrl))}));function $(e){return e.filter((function(e){return!document.querySelector('script[src="'+e+'"]')}))}function H(e,t={}){return new Promise(((n,r)=>{const o=document.createElement("script");Object.keys(t).forEach((e=>o.setAttribute(e,t[e]))),o.setAttribute("src",e),o.setAttribute("type","text/javascript"),o.addEventListener("load",n),o.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(o)}))}function W(e){return e.filter((function(e){return!document.querySelector('link[rel="stylesheet"][href="'+e+'"]')}))}function z(e,t={}){return new Promise(((n,r)=>{const o=document.createElement("link");Object.keys(t).forEach((e=>o.setAttribute(e,t[e]))),o.setAttribute("href",e),o.setAttribute("rel","stylesheet"),o.addEventListener("load",n),o.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(o)}))}function G(e,t,n,r){return new Promise(((o,a)=>{if((e=t(e)).length<=0)return void o();const s=e.length;let i=0;for(let t=0;t<e.length;t++)n(e[t],r).then((()=>{i++,i>=s&&o()})).catch(a)}))}U(new class extends e{get action(){return"content"}process(e,n,r,o){return new Promise((r=>{if(!1!==e.target){let r;e.target?r=o.listenElement.getElementById(e.target):(r=n.getResolvedTarget,r&&n.getRequestMethod()===t.GET&&r.setAttribute("data-self-uri",n.url)),r?r.innerHTML=e.content:console.warn("content target does not exist",n,e)}r()}))}}),U(new class extends e{get action(){return"location"}process(e,t,n,r){return new Promise((n=>{e.reload?e.replace?i.replace(e.url):i.assign(e.url):s(t.getResolvedTarget,e.url,t.url,e.replace),n()}))}}),U(new class extends e{get action(){return"load"}process(e,t,n,r){return q(new T({url:e.url,targetElement:e.target||t.targetElement}))}}),U(new class extends e{get action(){return"resource"}process(e,t,n,r){switch(e.type){case"css":if(e.inline){const t=function(e,t,n){var r,o,a=void 0===n?2166136261:n;for(r=0,o=e.length;r<o;r++)a^=e.charCodeAt(r),a+=(a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24);if(t)return("0000000"+(a>>>0).toString(16)).substr(-8);return a>>>0}(e.data,!0);if(document.querySelector(`[hash="${t}"]`))return;const n=document.createElement("style");n.setAttribute("hash",t),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e.data:n.appendChild(document.createTextNode(e.data)),document.head.append(n);break}return function(e,t){return G(e,W,z,t)}([e.data],e.options);case"js":if(e.inline){new Function(e.data)();break}return function(e,t){return G(e,$,H,t)}([e.data],e.options)}return new Promise((e=>e()))}}),U(new class extends e{get action(){return"refresh"}process(e,t,n,r){return new Promise((n=>{let o;o=e.target?r.listenElement.getElementById(e.target):t.getResolvedTarget,D(o),n()}))}}),U(new class extends e{get action(){return"synchronous"}process(e,t,n,r){return t.iterator.iterate(e.actions,t,n,Object.assign({},r,{synchronous:!0}))}}),U(new class extends e{get action(){return"log"}process(e,t,n,r){return new Promise((t=>{console[e.level]||(e.level="log"),console[e.level](e.message),t()}))}});const V={uninitialized:0,loading:1,interactive:2,loaded:3,complete:4};function X(e=V.loaded){if("number"!=typeof(e=V[e]||e))throw"not a valid state";let t;return J.has(e)?t=J.get(e):(t=function(){let e,t=!1,n=null;const r=new Promise((t=>e=t));return n=r.then,r.then=(e,o)=>{t?e():n.call(r,e,o)},r.resolve=()=>{t||(t=!0,e())},r}(),J.set(e,t),Y>=e&&t.resolve()),t}const J=new Map;let Y=0;function Z(e){(e=V[e]||e)>Y&&(Y=e,J.has(e)&&J.get(e).resolve())}function K(e,t,n,r){function o(t){const o=t.path||t.composedPath&&t.composedPath();let a=o&&o[0]||t.target;do{if(!n||a.matches&&a.matches(n))return t.delegateTarget=a,r(t);if(e===a)break}while(a=a.parentElement||a.getRootNode()&&a.getRootNode().host)}return void 0===r&&(r=n,n=""),e.addEventListener(t,o),()=>e.removeEventListener(t,o)}function Q(e){X().then(e)}document.addEventListener("readystatechange",(()=>{Z(document.readyState)})),document.addEventListener("DOMContentLoaded",(()=>{Z(V.loaded)})),Z(document.readyState);var ee=function(){function e(){this.setupEventListeners()}return e.prototype.setupEventListeners=function(){var e=this;K(document,"click","[data-drawer-toggle]",(function(t){t.preventDefault();var n=t.target.getAttribute("data-drawer-toggle");n?(e.toggleDrawer(e.getDrawerContainer(t.target,n)),e.toggleIcon(t.target)):(e.toggleDrawer(e.getDrawerContainer(t.target)),e.toggleIcon(t.target)),t.stopPropagation(),t.stopImmediatePropagation()}))},e.prototype.getDrawerContainer=function(e,t){void 0===t&&(t=!1);var n=e.closest(".review-tile");return n||(n=e.parentElement.parentElement.parentElement),t?n.querySelector("[data-drawer-container="+t+"]"):n.querySelector("[data-drawer-container]")},e.prototype.toggleIcon=function(e){e.querySelector("svg")},e.prototype.toggleDrawer=function(e){e&&(e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide"))},e}(),te=function(){function e(){var e=this;document.querySelectorAll("[star-rating]").forEach((function(t){e.setupEventListeners(t)}))}return e.prototype.setupEventListeners=function(e){var t=this;e.querySelectorAll(".first-half, .second-half").forEach((function(n){n.addEventListener("mouseenter",(function(n){var r=t.getRoundedRating(n.target.getAttribute("data-value")),o=t.getClassFromRoundedRating(r);e.classList.remove("_05","_10","_15","_20","_25","_30","_35","_40","_45","_50"),e.classList.add(o),e.querySelectorAll(".star-rating__rating-text .rating-text")[0].style.display="none",e.querySelectorAll(".star-rating__rating-text .hover-text")[0].style.removeProperty("display")}))})),e.addEventListener("mouseleave",(function(n){var r=t.getRoundedRating(e.getAttribute("rating")),o=t.getClassFromRoundedRating(r);e.classList.remove("_05","_10","_15","_20","_25","_30","_35","_40","_45","_50"),e.classList.add(o),e.querySelectorAll(".star-rating__rating-text .hover-text")[0].style.display="none",e.querySelectorAll(".star-rating__rating-text .rating-text")[0].style.removeProperty("display")}))},e.prototype.getRoundedRating=function(e){return Math.round(2*parseFloat(e))/2},e.prototype.getClassFromRoundedRating=function(e){return"_"+(10*e).toString().padStart(2,"0")},e}(),ne=function(){function e(){this.checkedIDs=[],this.setupEventListeners()}return e.prototype.setupEventListeners=function(){var e=this;K(document,"click","[data-compare-id]",(function(t){var n=t.target,r=n.getAttribute("data-compare-id");n.checked?e.checkedIDs.push(r):e.checkedIDs=e.checkedIDs.filter((function(e){return e!==r}));var o=document.getElementById("compare-bar");e.checkedIDs.length>=2?(document.getElementById("compare-bar-form").action="comparison-table/"+e.checkedIDs.toString().replace(/,/g,"/"),o.classList.remove("hide")):o.classList.add("hide")}))},e}(),re=function(){var e=this;Q((function(){if(e.progressBars=document.querySelectorAll(".review-page__progress-bar"),e.progressBars.length>0)for(var t=function(t){setTimeout((function(){e.progressBars[t].classList.remove("no-show")}),300*t)},n=0;n<e.progressBars.length;n++)t(n)}))};var oe=function(){function e(){var e=this,t=document.querySelector(".exit-pop");t&&(t.addEventListener("click",this.exit),setTimeout((function(){document.addEventListener("mouseout",e.mouseEvent)}),0))}return e.prototype.exit=function(e){(function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e.target.classList).includes("exit-pop")||"exit-pop__close"===e.target.className)&&document.querySelector(".exit-pop").classList.add("exit-pop--hide")},e.prototype.mouseEvent=function(e){!e.toElement&&!e.relatedTarget&&e.clientY<10&&(document.removeEventListener("mouseout",this.mouseEvent),document.querySelector(".exit-pop").classList.remove("exit-pop--hide"))},e}(),ae=function(){var e=this;Q((function(){e.selectors=document.querySelectorAll(".product-filter-form__drawer select");var t=document.getElementById("form-clear");t&&t.addEventListener("click",(function(t){for(var n=0;n<e.selectors.length;n++)e.selectors[n].selectedIndex=0;document.getElementById("formSubmit").click()}))}))},se=function(){function e(){var e=this;Q((function(){if(e.cookieBanner=document.getElementById("cookie-policy"),e.cookieBanner){var t=e.cookieBanner.querySelector("#close");e.getCookie("cp")||e.cookieBanner.classList.remove("dn"),t.addEventListener("click",(function(t){e.cookieBanner.classList.add("dn"),e.setCookie("cp","true",30)})),e.cookieBanner.addEventListener("click",(function(t){e.cookieBanner.classList.add("dn"),e.setCookie("cp","true",30)}))}}))}return e.prototype.setCookie=function(e,t,n){var r="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"},e.prototype.getCookie=function(e){var t=document.cookie.match(RegExp("(?:^|;\\s*)"+e+"=([^;]*)"));return t?t[1]:null},e}(),ie=function(){function e(){this.setupEventListeners()}return e.prototype.setupEventListeners=function(){var e=this;K(document,"click","[data-toggle]",(function(t){t.preventDefault();var n=t.target.parentElement.getAttribute("data-toggle");n&&(e.toggleBox(e.getContainer(t.target,n)),e.toggleIcon(t.target)),t.stopPropagation(),t.stopImmediatePropagation()}))},e.prototype.getContainer=function(e,t){void 0===t&&(t=!1);var n=e.closest(".home-featured-articles__article");return t?n.querySelector('[data-toggle-container="'+t+'"]'):n.querySelector("[data-toggle-container]")},e.prototype.toggleIcon=function(e){for(var t=e.parentElement.querySelectorAll("i"),n=0;n<t.length;n++)t[n].classList.toggle("dn")},e.prototype.toggleBox=function(e){e&&e.classList.toggle("minimize")},e}(),le=function(){function e(){this.setupEventListeners()}return e.prototype.setupEventListeners=function(){var e=this;K(document,"click","#toggle-feedback-form",(function(t){t.preventDefault(),e.toggle(e.getFeedbackForm()),t.stopPropagation(),t.stopImmediatePropagation(),setTimeout((function(){document.querySelector(".feedback-form").scrollIntoView({behavior:"smooth",block:"end"})}),500)}))},e.prototype.getFeedbackForm=function(){return document.getElementById("feedback-form")},e.prototype.toggle=function(e){e&&e.classList.toggle("hidden")},e}(),ce=/^\s+|\s+$/g,ue=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,he=/^0o[0-7]+$/i,pe=parseInt,fe="object"==typeof n&&n&&n.Object===Object&&n,ge="object"==typeof self&&self&&self.Object===Object&&self,me=fe||ge||Function("return this")(),ve=Object.prototype.toString,Ee=Math.max,ye=Math.min,be=function(){return me.Date.now()};function _e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function we(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==ve.call(e)}(e))return NaN;if(_e(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_e(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ce,"");var n=de.test(e);return n||he.test(e)?pe(e.slice(2),n?2:8):ue.test(e)?NaN:+e}var Le=function(e,t,n){var r,o,a,s,i,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=o;return r=o=void 0,c=t,s=e.apply(a,n)}function f(e){return c=e,i=setTimeout(m,t),u?p(e):s}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function m(){var e=be();if(g(e))return v(e);i=setTimeout(m,function(e){var n=t-(e-l);return d?ye(n,a-(e-c)):n}(e))}function v(e){return i=void 0,h&&r?p(e):(r=o=void 0,s)}function E(){var e=be(),n=g(e);if(r=arguments,o=this,l=e,n){if(void 0===i)return f(l);if(d)return i=setTimeout(m,t),p(l)}return void 0===i&&(i=setTimeout(m,t)),s}return t=we(t)||0,_e(n)&&(u=!!n.leading,a=(d="maxWait"in n)?Ee(we(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),E.cancel=function(){void 0!==i&&clearTimeout(i),c=0,r=l=o=i=void 0},E.flush=function(){return void 0===i?s:v(be())},E};globalThis._eleMap=globalThis._eleMap||new Map,globalThis._idMap=globalThis._idMap||new Map,globalThis._containerMap=globalThis._containerMap||new WeakMap;class xe{static create(e,t){if(e instanceof xe)return e;if(!_eleMap.has(e)){const t=new this.prototype.constructor(...arguments);_eleMap.set(e,t),_eleMap.set(t.modal,t),e.hasAttribute("id")&&_idMap.set(e.getAttribute("id"),t)}return _eleMap.get(e)}static has(e){return _eleMap.has(e)}static find(e){let t=e;do{if(xe.has(t))return xe.create(t)}while(t=t.parentNode||t.getRootNode()&&t.getRootNode().host);return null}static hide(e){const t=xe.find(e);return!!t&&(t.hide(),!0)}static remove(e){const t=xe.find(e);return!!t&&(t.remove(),!0)}constructor(e,t=document){this.rootElement=t||document,this.modal=document.createElement("div"),this.modal.classList.add("modal"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("modal__wrapper"),this.modal.appendChild(this.wrapper),e.matches(".modal__content")?this.content=e:(this.content=document.createElement("div"),this.content.classList.add("modal__content"),this.content.appendChild(e)),this.wrapper.appendChild(this.content),e.hasAttribute("id")&&this.modal.setAttribute("id",e.getAttribute("id")+"--outer"),e.hasAttribute("modal-class")&&this.modal.classList.add(e.getAttribute("modal-class")),"none"===e.style.display&&e.style.removeProperty("display"),this.hide()}appendChild(e){return this.content.appendChild(e),this._postUpdateContent(),this}clear(){for(;this.content.firstChild;)this.content.removeChild(this.content.firstChild);return this._postUpdateContent(),this}hide(){const[e,t]=Ae(this.rootElement);return t.contains(this.modal)&&this.modal.dispatchEvent(Te("modal-hide",this.modal,!0))&&(this.modal.classList.remove("hidden"),e.appendChild(this.modal),this._removeEvents(),this.rootElement.dispatchEvent(Te("modal-hidden",this.modal))),this}remove(){return this.modal.parentElement.removeChild(this.modal),this._removeEvents(),this.rootElement.dispatchEvent(Te("modal-removed",this.modal)),this}show(){const[,e]=Ae(this.rootElement);return!e.contains(this.modal)&&this.rootElement.dispatchEvent(Te("modal-show",this.modal,!0))&&(e.appendChild(this.modal),this._postUpdateContent(),this._addEvents(),this.modal.classList.remove("hidden"),this.modal.dispatchEvent(Te("modal-shown",this.modal))),this}_postUpdateContent(){if(this.content.querySelectorAll("[id]").forEach((e=>{const t=e.getAttribute("id");(e.matches(".modal__content")||this.rootElement.querySelectorAll(`[modal-launcher="${t}"], [modal-closer="${t}"]`).length>0)&&xe.create(e,this.rootElement)})),this.content.querySelector("[modal-closer]")){if(this.content.querySelector("[modal-closer]:not(.auto-closer)")){const e=this.content.querySelector("[modal-closer].auto-closer");e&&e.remove()}}else{const e=document.createElement("div");e.setAttribute("modal-closer",""),e.classList.add("auto-closer"),this.content.append(e)}this.updatePosition()}updatePosition(){const e=getComputedStyle(this.modal),t=parseInt(e.paddingTop)+parseInt(e.paddingBottom)||0,n=Math.max(0,this.modal.clientHeight-this.wrapper.offsetHeight-t);return this.wrapper.style.top=n/3+"px",this}_addEvents(){this._removeEvents();const e=Ce(this);return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),this}_removeEvents(){const e=Ce(this);return window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),this}static init(e=document){e?_containerMap.has(e)||(_containerMap.set(e,!1),e.addEventListener("click",(t=>{t.target.closest("[modal-closer]")&&xe.hide(t.target);const n=t.target.closest("[modal-launcher]");if(n){t.preventDefault();const r=n.getAttribute("modal-launcher"),o=e.querySelector("#"+r)||_idMap.get(r);if(!o)return void console.error("No modal could be found with the id "+n.getAttribute("modal-launcher"));xe.create(o,e).show()}})),e.addEventListener("keyup",(t=>{if("Escape"===t.key||"Esc"===t.key||27===t.keyCode){const t=e.querySelector(".modal__shown .modal:last-of-type .modal__content [modal-closer]");t&&xe.hide(t)}}))):console.error("Not a valid root element for modal initialization")}}const ke=new Map;function Ce(e){return ke.has(e)||ke.set(e,Le(e.updatePosition.bind(e),200,{maxWait:500})),ke.get(e)}function Te(e,t,n=!1){return new CustomEvent(e,{detail:{modal:t},cancelable:n,bubbles:!0,composed:!0})}function Ae(e){if(e instanceof Document&&(e=e.body),!_containerMap.has(e)||!_containerMap.get(e)){const t=document.createElement("div");t.classList.add("modal__container");const n=document.createElement("div");n.classList.add("modal__hidden"),t.appendChild(n);const r=document.createElement("div");r.classList.add("modal__shown"),t.appendChild(r),e.appendChild(t),_containerMap.set(e,[n,r])}return _containerMap.get(e)}let Se=new WeakSet;new ee,new re,new ae,new oe,new te,new ne,new se,new ie,new le,function(e=document){if(xe.init(e),Se.has(e))return;Se.add(e);let t=null;K(e,"mousedown",".modal.lightbox",(e=>{e.target===e.delegateTarget&&(t=e.target)})),K(e,"mouseup",".modal.lightbox",(e=>{t===e.target&&xe.hide(e.target),t=null})),K(e,"keyup",(t=>{if("Escape"===t.key||"Esc"===t.key||27===t.keyCode){const n=e.querySelector(".modal:last-of-type .modal__content.lightbox");n&&(t.preventDefault(),xe.hide(n))}})),X().then((()=>e.querySelectorAll(".lightbox--auto-launch").forEach((e=>xe.create(e).show()))))}(),function(e={}){S=Object.assign({},C,e),P||(P=!0,R()||document.addEventListener("readystatechange",R))}({defaultTarget:"main-page",selector:"g[data-uri],a[data-uri],button[data-uri],[href][data-target]"})}();
//# sourceMappingURL=main.min.js.map
